(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){},47:function(e,t,a){e.exports=a(81)},81:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),o=a(12),l=a(16),i=a(40),c=a(41),u={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"};var m=a(21),d={REGISTER_REQUEST:"REGISTER_REQUEST",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGIN_CHECK:"LOGIN_CHECK",GET_DET_REQUEST:"GET_DET_REQUEST",GET_DET_SUCCESS:"GET_DET_SUCCESS",GET_DET_FAILURE:"GET_DET_FAILURE"},E=JSON.parse(localStorage.getItem("user")),h=E?{isloggedIn:!0,loggedInuser:E}:{};var g=Object(l.c)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SUCCESS:return{type:"alert-success",message:t.message};case u.ERROR:return{type:"alert-danger",message:t.message};case u.CLEAR:return{};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.LOGIN_SUCCESS:return console.log("ction ---",t),localStorage.setItem("user",JSON.stringify(t.user)),Object(m.a)({},e,{isloggedIn:!0,user:t.user});case d.LOGIN_FAILURE:return{isloggedIn:!1};case d.LOGIN_CHECK:return e;case d.GET_DET_SUCCESS:return Object(m.a)({},e,{grid_list:t.grids.data});default:return e}}}),p=Object(c.createLogger)(),f=Object(l.d)(g,Object(l.a)(i.a,p)),N=a(15),S=Object(N.a)(),v=a(46),b=a(85),C=a(84),y=function(e){var t=e.component,a=Object(v.a)(e,["component"]);return r.a.createElement(b.a,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(C.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var O=a(9),R=a(10),_=a(14),k=a(11),T=a(13),I=a(83),j=a(82),U=a(86),L={apiUrl:"http://localhost:3002"};function w(e){return console.log("response",e),e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){401!==e.status&&403!==e.status||window.localStorage.clear();var n=a&&a.message||e.statusText;return Promise.reject(n)}return console.log("for response",a),a})}var G={registeruser:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(L.apiUrl,"/register"),t).then(w)},login:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("".concat(L.apiUrl,"/login"),t).then(w)},getSkillsandCountry:function(){return fetch("".concat(L.apiUrl,"/getSkillsandCountry"),{method:"GET"}).then(w)}},x=a(23),A="ALERT_SUCCESS",F="ALERT_ERROR",D="ALERT_CLEAR",Q={success:function(e){return function(t){return x.NotificationManager.success(e,"",2e3),{type:A,message:e}}},error:function(e){return function(t){var a=e;return e.error&&(a=e.error),x.NotificationManager.warning(e,"",2e3),{type:F,msg:a}}},clear:function(e){return{type:D}}},q=function(e){return function(t){console.log("userActions login"),t(function(e){return{type:d.LOGIN_REQUEST,user:e}}(e)),G.login(e).then(function(e){t(function(e){return{type:d.LOGIN_SUCCESS,user:e}}(e)),S.push("/home"),t(Q.success("Login successful"))},function(e){t(function(e){return{type:d.LOGIN_FAILURE,error:e}}(e.toString())),t(Q.error(e.toString()))})}},J=function(){return function(e){return console.log("here logout function works"),localStorage.removeItem("user"),S.push("/login"),{type:d.LOGIN_FAILURE}}},M=function(e){return function(t){console.log("userActions registeruser"),t(function(e){return{type:d.REGISTER_REQUEST,user:e}}(e)),G.registeruser(e).then(function(e){t(function(e){return{type:d.REGISTER_SUCCESS,user:e}}(e)),S.push("/login"),t(Q.success("Registration successful"))},function(e){t(function(e){return{type:d.REGISTER_FAILURE,error:e}}(e.toString())),t(Q.error(e.toString()))})}},P=function(e){return function(e){console.log("userActions login"),e({type:d.GET_DET_REQUEST}),G.getSkillsandCountry().then(function(t){e(function(e){return{type:d.GET_DET_SUCCESS,grids:e}}(t))},function(t){e(function(e){return{type:d.GET_DET_FAILURE,error:e}}(t.toString()))})}},B=(a(28),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(_.a)(this,Object(k.a)(t).call(this,e))).state={submitted:!1},a}return Object(T.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){}},{key:"logoutfn",value:function(){this.props.logout()}},{key:"render",value:function(){console.log("this.props",this.props);var e=this.props.user?this.props.user:{},t=e.data?e.data:[],a=t[0]?t[0]:{};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:""},r.a.createElement("div",null,"Name: ",a.userName),r.a.createElement("div",null,"Skills: ",a.skills),r.a.createElement("div",null,"Country: ",a.country)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn indigo",onClick:this.logoutfn.bind(this)},"Logout")))}}]),t}(n.Component)),H=Object(o.b)(function(e){return{user:e.user.loggedInuser}},function(e){return{logout:function(){return J()(e)}}})(B),K=a(19),z=a(45),V=a(44),W=a.n(V),X=(a(77),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(_.a)(this,Object(k.a)(t).call(this,e))).state={user:{userName:"",firstName:"",lastName:"",email:"",password:"",dob:W()(),country:"",skills:""},submitted:!1},a}return Object(T.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.setState({submitted:!1}),this.props.getSkillsandCountry()}},{key:"handleSubmit",value:function(){this.setState({submitted:!0});var e=this.state.user;if(console.log(e.userName+"&&"+e.firstName+"&&"+e.lastName+"&&"+e.email+"&&"+e.dob),e.userName&&e.firstName&&e.lastName&&e.email&&e.dob&&e.skills&&e.country){var t={userName:e.userName,email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,dob:e.dob,skills:e.skills,country:e.country};console.log("handleSubmit",t),this.props.register(t)}}},{key:"gologin",value:function(){S.push("/login")}},{key:"handleDateChange",value:function(e){var t=this.state.user;this.setState({user:Object(m.a)({},t,{dob:e})})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(m.a)({},r,Object(K.a)({},a,n))})}},{key:"render",value:function(){var e=this.state,t=e.submitted,a=e.user,n=this.props.grid_list?this.props.grid_list:{},s=n.country?n.country:[],o=n.skills?n.skills:[];return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("h5",null," Signup as User")),r.a.createElement("div",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"+(t&&!a.userName?" has-error":"")},r.a.createElement("span",{htmlFor:"userName"},"User Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"userName",value:a.userName,onChange:this.handleChange.bind(this)}),t&&!a.userName&&r.a.createElement("div",{className:"red-text text-darken-2"},"User Name is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.email?" has-error":"")},r.a.createElement("span",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:a.email,onChange:this.handleChange.bind(this)}),t&&!a.email&&r.a.createElement("div",{className:"red-text text-darken-2"},"Email is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.firstName?" has-error":"")},r.a.createElement("span",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:a.firstName,onChange:this.handleChange.bind(this)}),t&&!a.firstName&&r.a.createElement("div",{className:"red-text text-darken-2"},"First Name is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.lastName?" has-error":"")},r.a.createElement("span",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",className:"form-control ",name:"lastName",value:a.lastName,onChange:this.handleChange.bind(this)}),t&&!a.lastName&&r.a.createElement("div",{className:"red-text text-darken-2"},"Last Name is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.dob?" has-error":"")},r.a.createElement("span",{htmlFor:"dob"},"Date of Birth"),r.a.createElement(z.a,{onSelect:this.handleDateChange.bind(this),onChange:this.handleDateChange.bind(this)}),t&&!a.dob&&r.a.createElement("div",{className:"red-text text-darken-2"},"Date of Birth is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.password?" has-error":"")},r.a.createElement("span",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:this.handleChange.bind(this)}),t&&!a.password&&r.a.createElement("div",{className:"red-text text-darken-2"},"Password is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.country?" has-error":"")},r.a.createElement("span",{htmlFor:"country"},"Country"),r.a.createElement("select",{className:"form-control",name:"country",value:a.country,onChange:this.handleChange.bind(this)},r.a.createElement("option",{value:""}," - Select - "),Object.keys(s).map(function(e){return r.a.createElement("option",{value:s[e]},s[e])}.bind(this))),t&&!a.country&&r.a.createElement("div",{className:"red-text text-darken-2"},"Country is required")),r.a.createElement("div",{className:"form-group"+(t&&!a.skills?" has-error":"")},r.a.createElement("span",{htmlFor:"skills"},"Skills"),r.a.createElement("select",{className:"form-control",name:"skills",value:a.skills,onChange:this.handleChange.bind(this)},r.a.createElement("option",{value:""}," - Select - "),Object.keys(o).map(function(e){return r.a.createElement("option",{value:o[e]},o[e])}.bind(this))),t&&!a.skills&&r.a.createElement("div",{className:"red-text text-darken-2"},"Skills is required")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"sgnUp",onClick:this.handleSubmit.bind(this)},"SignUp"),r.a.createElement("button",{className:"can",onClick:this.gologin.bind(this)},"Cancel")))))))}}]),t}(n.Component)),Y=Object(o.b)(function(e){var t=e.user;return console.log("state",e),console.log("state user --",t),{grid_list:t.grid_list}},function(e){return{register:function(t){return M(t)(e)},getSkillsandCountry:function(){return P()(e)}}})(X),Z=a(17),$=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(_.a)(this,Object(k.a)(t).call(this,e))).props.logout(),a.state={username:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(T.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(K.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,n=t.password;this.props.dispatch;a&&n&&this.props.login({username:a,password:n})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;e.submitted;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:""},r.a.createElement("form",{className:"",onSubmit:this.handleSubmit},r.a.createElement("div",{className:""},r.a.createElement("div",{className:""})),r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("input",{className:"validate",type:"text",name:"username",id:"username",value:t,onChange:this.handleChange.bind(this)}),r.a.createElement("label",{htmlFor:"username"},"Enter your Username"))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:""},r.a.createElement("input",{className:"validate",type:"password",name:"password",id:"password",value:a,onChange:this.handleChange.bind(this)}),r.a.createElement("label",{htmlFor:"password"},"Enter your password"))),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("div",{className:"row"},r.a.createElement("button",{name:"btn_login",className:""},"Login")),r.a.createElement(I.a,null,r.a.createElement("div",{className:""},r.a.createElement("div",{className:""}," ",r.a.createElement("a",{href:"registration"},"Click here to Register")))))))))}}]),t}(n.Component),ee=Object(o.b)(function(e){var t=e.user;return t.user&&window.location.reload(),{isloggedIn:t.isloggedIn}},function(e){return{login:function(t){return q(t)(e)},logout:function(t){return J()(e)}}})($),te=(a(79),function(e){function t(e){var a;return Object(O.a)(this,t),a=Object(_.a)(this,Object(k.a)(t).call(this,e)),S.listen(function(e,t){Q.clear()}),a}return Object(T.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(x.NotificationContainer,null),r.a.createElement(j.a,{history:S},r.a.createElement(U.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:ee}),r.a.createElement(b.a,{exact:!0,path:"/login",component:ee}),r.a.createElement(b.a,{exact:!0,path:"/registration",component:Y}),r.a.createElement(y,{exact:!0,path:"/home",component:H})))))}}]),t}(n.Component));Object(s.render)(r.a.createElement(o.a,{store:f},r.a.createElement(te,null)),document.getElementById("root"))}},[[47,2,1]]]);
//# sourceMappingURL=main.4c01a081.chunk.js.map